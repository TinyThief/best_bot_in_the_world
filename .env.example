# Bybit API (храни в .env, не коммить ключи)
BYBIT_API_KEY=
BYBIT_API_SECRET=

# Testnet: true = тестовая сеть, false = боевая
BYBIT_TESTNET=true

# Торговый режим: linear (USDT-M), inverse, spot
BYBIT_CATEGORY=linear

# Пара для торговли
SYMBOL=BTCUSDT

# Таймфреймы через запятую (минуты: 1,3,5,15,30,60,120,240,360,720 или D,W,M)
TIMEFRAMES=15,60,240

# Минимальный score фазы (0..1). Детектор даёт 0.6–0.7 для уверенных фаз; 0.8+ только у капитуляции.
PHASE_SCORE_MIN=0.6
# Источник свечей для анализа: db — из БД (меньше запросов), exchange — каждый тик с биржи
DATA_SOURCE=db
# Минимальная уверенность сигнала (0..1) для фильтра «торговый» сигнал; 0 — не фильтровать
SIGNAL_MIN_CONFIDENCE=0
# Ретраи запросов к Bybit: макс попыток, задержка (с) при rate limit / сбое
EXCHANGE_MAX_RETRIES=5
EXCHANGE_RETRY_BACKOFF_SEC=1

# --- База для обучения (накопление свечей) ---
# Путь к SQLite (каталог создаётся сам)
DB_PATH=data/klines.db
# Все таймфреймы для БД: 1,3,5,15,30,60,120,240,360,720,D,W,M
TIMEFRAMES_DB=1,3,5,15,30,60,120,240,360,720,D,W,M
# Сколько свечей вглубь загружать при первом бэкфилле на каждый ТФ
BACKFILL_MAX_CANDLES=50000
# Как часто дотягивать новые свечи (секунды)
DB_UPDATE_INTERVAL_SEC=60
# При старте бота автоматически углублять историю по всем ТФ до упора (1=да, 0=нет)
AUTO_EXTEND_AT_STARTUP=1

# --- Логирование ---
# Каталог логов (пусто = проект/logs). bot.log — всё, signals.log — компактные строки по каждому сигналу
LOG_DIR=
# Уровень: DEBUG, INFO, WARNING, ERROR. LOG_LEVEL_FILE — для файла (по умолчанию как LOG_LEVEL)
LOG_LEVEL=INFO
# Макс. размер одного файла (МБ), число старых файлов при ротации
LOG_FILE_MAX_MB=10
LOG_BACKUP_COUNT=7
# Писать ли отдельно signals.log (1/0)
LOG_SIGNALS_FILE=1

# --- Telegram (управление ботом) ---
# Токен от @BotFather
TELEGRAM_BOT_TOKEN=
# Разрешённые user id через запятую (пусто = все). Узнать id: /id в боте
TELEGRAM_ALLOWED_IDS=
